# Supreme-Duper-Script-Editor

A (mostly) complete script editor for _Danganronpa: Hope's Academy and Despair's Students_ made in C# based on The Super Dumper script.

### Dependencies/tools

* mkisofs
    * Used to build the completed ISO.
    * A Windows binary is included in `tools`.
* pngquant
    * <http://pngquant.org/>
    * Used to quantize PNGs before converting them to GIM files. (Not actually used by anything available through the editor right now, but the WIP model importation script **does** make use of it.)
    * A Windows binary is included in `tools`.

## How to use

1. Download the executable from "releases"
1. Download the necessary tools if requested 
1. Open the executable and follow what is asked 
**NOTE**: The SDSE is **only** compatible with the PSP The Best re-release of _Danganronpa_. It would be fairly trivial to modify it to work with the original release or the demo on a superficial level, but full integration is much more work than I'm interested in undertaking. The scripts in `extract` are capable of dumping the data from both the original release and the demo, and `dat_packer` should work just fine with the `!toc.txt` files generated by it, but no guarantees.

**NOTE**: If you have install data on your memory stick from the UMD version of the game, delete it before trying to run a modified ISO generated by the editor. The SDSE blanks the original game's install data when preparing the workspace to save space and because there's no benefit to having install data with everything already on the memory stick.

## Features

### Extraction and building

The SDSE is capable of extracting all the game's files and packing them back up in a way the game understands, and it does everything all in one place. When you run the editor for the first time, it'll prompt you to set up your workspace, which includes extracting the game's archives. When you're ready to try your changes out, just click the Build button on the top right and it'll spit out an ISO that's ready to drop onto your PSP.

### Real-time previews

See how every line is going to look in-game, so you don't have to waste time guessing how much space you have available, wondering who said a line, or what sprite is being shown at any given time. The SDSE can even play back voice clips from the game and display CG. It also supports all the game's text formatting codes, and it has special previews for text that appears in different contexts.

### Comments

If you're not sure how you want to word a line, or you just want to make a note about a reference or something, leave a comment in the box on the bottom. Every line can have its own comment.

#### References

The SDSE also has special syntax for references in comments. Type `{e00_001_000.lin/0000.txt}` into the comments, and it'll turn blue and be added to the References tab on the right side of the editor. From there, you can see the line in question without having to open the folder.

You can also make in-folder references, so if you're in `e00_001_000.lin`, you can just type `{0000.txt}` and it'll be interpreted as `{e00_001_000.lin/0000.txt}`. Do be aware, though, that if you do this on a line that has duplicates in other folders, those other references are likely to be incorrect, so it's better to use the full format instead.

### Duplicate and similar line tracking

The SDSE keeps track of lines that are identical to one another and propagates changes to all of those lines. But not only that, it also keeps track of lines that are similar, but not necessarily identical. This way, you can see lines that have been subtly changed so you can keep your translation consistent while still reflecting the differences.

Since, in certain cases, identical lines don't need to be translated identically, you can tell the editor that one line isn't a duplicate of another line by right-clicking on it in the Duplicates tab and selecting `remove duplicate`. You can also break up an entire duplicate group by selecting `remove all duplicates`.

To remove the current line from a duplicate group and leave the rest of the group in tact, right-click on the line in the main window, under `script files`, and select `remove from duplicate group`.

You can also add duplicates, either from similarities or references.

**NOTE**: It takes some time to read all the similarities from the database, which can cause lines to appear slowly. This should only happen the first time you look at a line, and usually only if you're moving through the folder pretty quickly. If you're reading or translating each line, you're not likely to notice any slowdown.

### Terminology highlighting

Create and categorize your own list of important terminology--words or phrases that need to be translated consistently. The editor will highlight any matches for you, and you can see the translation just by hovering over the highlighted text. It even works for overlapping terms, so you can set `苗木`, `誠`, and `苗木誠` as separate terms, and it'll show you all the possible meanings.

Terminology can also be expressed as a regular expression (such as `うぷ+`) to catch slight variations.

### Font generation

The fonts that come with _Danganronpa_ pretty much only support Japanese and English, and the non-Japanese characters have some weird alignment issues. The SDSE comes with a font generator that allows you to create your own fonts, to your own specifications, with any glyphs needed by the language you're translating into.

You can even create fonts for the game using glyphs from more than one font on your system, so if you don't like how a certain glyph looks, just use a different font for it. (Both of the fonts Project Zetsubou uses, which are available on the downloads page, are blends.)

Or if you just want to play _Danganronpa_ in [Comic Sans](https://dl.dropbox.com/u/4617327/Danganronpa/shot0099.png), you can do that, too. (Don't do that. [Or this.](https://dl.dropbox.com/u/4617327/Danganronpa/shot0100.png))

### And much, much more

Explore, click on things, right-click on things, push buttons, play around. I've done so much work on this thing, I honestly don't remember everything it can do.

There are some grayed-out, disabled functions present throughout the editor--particularly in the settings menu. These are things I have plans to implement but haven't gotten around to just yet. Some features, like text replacement and smart quotes, might only make it into the next iteration of the editor, for _Super Danganronpa 2_.

## Planned features

### Visual model editor

The code for parsing, extracting, and reinserting textures into the game's model paks is pretty much done. I just need to attach a GUI to it.

## Some handy shortcuts

* `Page Up`: Go to previous line
* `Page Down`: Go to next line
* `Ctrl` + `Page Up`: Go to first line
* `Ctrl` + `Page Down`: Go to last line
* `Ctrl` + `O`: Open
* `Ctrl` + `S`: Save
* `Ctrl` + `F`: Find
* `Ctrl` + `T`: Terminology editor
* `Ctrl` + `B`: Build
* `F5`: Replay voice
* `F6`: Stop voice

## Licensing and legal stuff

The Supreme Duper Script Editor is released under the GNU GPL, Version 3. A list of attributions can be found under `Help` -> `About` from within the editor.

A very small collection of images from the game is included with the editor, mostly screenshots of rooms taken to use in place of the game's 3D models. I claim no rights to any of these images; they all belong to Spike. The vast majority of graphics used by the editor are _not_ provided here, but are extracted from the user's personal copy of _Danganronpa_. I believe this constitues fair use, but I will gladly take the images down at the request of the copyright holder.
